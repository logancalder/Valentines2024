<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Page Title</title>
    <script src="https://kit.fontawesome.com/92c2b5b560.js" crossorigin="anonymous"></script>
    <!-- Link to your CSS file -->
    <link rel="stylesheet" href="style.css">
</head>

<script>
    function changeText() {

        var heart = document.getElementById("heart");
        var heartID = document.getElementById("heartID");
        var heading = document.getElementById("header");
        var paragraph = document.getElementById("paragraph");
        var hint = document.getElementById("hint");
        var yes_button;
        var no_button;

        var yes = document.createElement('i');
        yes.className = 'fa-solid fa-check size-3x';
        yes.id = "yes";
        var no = document.createElement('i');
        no.className = 'fa-solid fa-x size-3x';
        no.id = "no";

        var heartI = heart.querySelector('.heart i')
        var heartDiv = heart.querySelector('.heart');

        var headerInitial = "Will you be my Valentine?";
        var paragraphInitial = "Please say yes :\")";
        var hintInitial = "Click the check!";

        var headerTexts = ["Really? Let me try again...","Pweaaaaase?","That really didn\'t work?","Bro. Come on!","My bad. Was that cringe?","You\'re the worst.","I didn\'t mean it!"]
        var paragraphTexts = ["I\'m begging you.","You\'re hurting my feewingssss!","Just say yes man.","I know you think it\'s funny.","Say yes and I won\'t do it again.","Hmph.","You\'re the BEST!"]
        var hintTexts = ["No, really. Hit the check.","Click :(","Click. The yes button.","Say yes uwu","I promise!","I don\'t have many more prompts, man.","Now click yes!"]

        var index = 0;

        heartID.addEventListener('click', function() {
            if(index == 0){
                heart.querySelector('.heart').removeChild(heartI);
                heartDiv.appendChild(yes);
                heartDiv.appendChild(no);
            }

            fadeOutAndChangeText(heading, headerInitial);
            fadeOutAndChangeText(paragraph, paragraphInitial);
            fadeOutAndChangeText(hint, hintInitial);
            
            var yes_button = document.getElementById("yes");
            var no_button = document.getElementById("no");
        });

        no.addEventListener('click', function() {
            
            fadeOutAndChangeText(heading, headerTexts[index]);
            fadeOutAndChangeText(paragraph, paragraphTexts[index]);
            fadeOutAndChangeText(hint, hintTexts[index]);
            
            if(index < headerTexts.length - 1){
                index++;
            } else{
                index = 0;
            }
        });

        yes.addEventListener('click', function() {
            
            fadeOutAndChangeText(heading, "YAYYYY!!!! I knew you\'d come through!");
            fadeOutAndChangeText(paragraph, "My Valentine <3333");
            fadeOutAndChangeText(hint, "");

            heart.querySelector('.heart').removeChild(yes);
            heart.querySelector('.heart').removeChild(no);
            let img = document.createElement('img');
            img.src = 'stitch-angel.gif';
            heart.querySelector(".heart").appendChild(img);
        });
        

        function fadeOutAndChangeText(element, newText) {
            element.style.opacity = '0';
            setTimeout(function() {
                element.textContent = newText;
                fadeIn(element);
            }, 500);
        }

        function fadeIn(element) {
            var opacity = 0;
            var interval = setInterval(function() {
                if (opacity < 1) {
                    opacity += 0.1;
                    element.style.opacity = opacity;
                } else {
                    clearInterval(interval);
                }
            }, 50);
        }
    }

</script>

<body onload="changeText()">
    <h1 id = "header">Hello, <span class = "bubbles">Bubbles!</span></h1>
    <p id = "paragraph">I had a question for you...</p>
    <a id = "heart" href = "#"><div class = "heart"><i class="fa-solid fa-heart size-3x" id = "heartID"></i></div></a>
    <p id = "hint">Click the heart!</p>
</body>
</html>
